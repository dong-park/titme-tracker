# 타임 트래커 앱 리팩토링 작업 계획 (PRD)

## 프로젝트 개요
- **프로젝트명**: 타임 트래커 Todo 기능 개선
- **목표**: 카테고리별 필터링 제거, 날짜 기반 필터링 추가, TodoItem에 카테고리 표시 
- **일정**: TBD

## 1단계: 데이터 모델 확장

- [ ] TodoItem 인터페이스 확장
  - [ ] `startDate?: string` 필드 추가 (ISO 형식, 선택적)
  - [ ] `endDate?: string` 필드 추가 (ISO 형식, 선택적)
  - [ ] `categoryId?: number` 필드 추가 (카테고리 ID, 선택적)
  
- [ ] 기존 데이터 마이그레이션 방안
  - [ ] 앱 시작 시 기존 데이터를 새 모델로 변환하는 유틸리티 기능 구현
  - [ ] 마이그레이션 완료 상태 플래그 저장 (로컬 스토리지)

## 2단계: 상태 관리 기능 확장

- [ ] todoSlice Redux 스토어 확장
  - [ ] 새 필드를 포함한 addTodo, updateTodo 액션 수정
  - [ ] 날짜 필터 상태 관리 리듀서 추가 (selectedDate: string | null)
  
- [ ] 날짜별 투두 필터링 셀렉터 구현
  - [ ] 오늘의 할일 필터 로직 구현 (지난 날짜의 미완료 항목 포함)
  - [ ] 특정 날짜 필터 로직 구현
  - [ ] Inbox 항목 구분 로직 구현
  
- [ ] 카테고리 정보 연계 로직
  - [ ] 투두 아이템에서 카테고리 정보 참조 로직 구현
  - [ ] 카테고리 색상, 이름 등 정보 조회 셀렉터 구현

## 3단계: UI 컴포넌트 구현

- [ ] 카테고리 선택 UI 제거
  - [ ] 기존 카테고리 필터 컴포넌트 제거
  - [ ] 관련 상태 및 이벤트 핸들러 제거
  
- [ ] 날짜 필터 UI 추가
  - [ ] 날짜 선택 헤더 영역 디자인 및 구현
  - [ ] 달력 컴포넌트 통합 (@react-native-community/datetimepicker 활용)
  - [ ] 날짜 네비게이션 UI (이전/다음/오늘)
  
- [ ] TodoItem 내 카테고리 표시 구현
  - [ ] CategoryBadge 서브컴포넌트 구현
  - [ ] 카테고리 색상 코드 연동
  - [ ] 완료 상태 시각화 (배지 불투명도 조정)
  
- [ ] Inbox 영역 구현
  - [ ] 날짜/카테고리 미지정 항목 섹션 구현
  - [ ] 섹션 헤더 디자인

## 4단계: 사용자 인터랙션 구현

- [ ] 날짜 선택 로직
  - [ ] 달력에서 날짜 선택 핸들러 구현
  - [ ] 퀵 네비게이션 (오늘/내일) 버튼 핸들러
  - [ ] 필터 리셋 기능 구현
  
- [ ] 할일 항목 생성/편집 확장
  - [ ] 할일 생성/편집 시 시작일/종료일 선택 UI 추가
  - [ ] 카테고리 지정 UI 추가
  - [ ] 드래그 앤 드롭 재정렬 로직 - 날짜 필터와 공존 방안

## 5단계: 테스트 및 최적화

- [ ] 다양한 시나리오 테스트
  - [ ] 날짜 범위 테스트 케이스 (시작일만, 종료일만, 둘 다 있는 경우)
  - [ ] 오늘/과거/미래 항목 노출 검증
  - [ ] 카테고리 연동 테스트
  
- [ ] 성능 최적화
  - [ ] 메모이제이션 적용 (날짜별 필터링 결과)
  - [ ] 대용량 데이터 테스트 (100+ 할일 항목)
  - [ ] 필요 시 가상화 리스트 최적화

## 향후 확장 과제 (v2)

- [ ] 반복 할일 기능 구현
- [ ] 카테고리별 통계 대시보드
- [ ] 캘린더 뷰 (월간 그리드)

## 기술 스택 참고

- React Native
- Redux Toolkit
- React Native Gesture Handler
- Tailwind CSS (NativeWind) 